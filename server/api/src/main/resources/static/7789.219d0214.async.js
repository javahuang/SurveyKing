(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[7789],{7789:function(j,A,v){"use strict";v.d(A,{Z:function(){return Rt}});var h=v(67294),L=v(50146),z=v(32620),I=v(42051),F=v(99177);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var R=function(r,o){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},R(r,o)};function m(r,o){R(r,o);function e(){this.constructor=r}r.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var p=function(){return p=Object.assign||function(o){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},p.apply(this,arguments)};function E(r,o){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&o.indexOf(t)<0&&(e[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(r);i<t.length;i++)o.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(r,t[i])&&(e[t[i]]=r[t[i]]);return e}function N(r,o,e,t){var i=arguments.length,n=i<3?o:t===null?t=Object.getOwnPropertyDescriptor(o,e):t,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(r,o,e,t);else for(var s=r.length-1;s>=0;s--)(c=r[s])&&(n=(i<3?c(n):i>3?c(o,e,n):c(o,e))||n);return i>3&&n&&Object.defineProperty(o,e,n),n}function D(r,o){return function(e,t){o(e,t,r)}}function ve(r,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,o)}function Ee(r,o,e,t){function i(n){return n instanceof e?n:new e(function(c){c(n)})}return new(e||(e=Promise))(function(n,c){function s(l){try{a(t.next(l))}catch(d){c(d)}}function u(l){try{a(t.throw(l))}catch(d){c(d)}}function a(l){l.done?n(l.value):i(l.value).then(s,u)}a((t=t.apply(r,o||[])).next())})}function Pe(r,o){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},t,i,n,c;return c={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function s(a){return function(l){return u([a,l])}}function u(a){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,i&&(n=a[0]&2?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[a[0]&2,n.value]),a[0]){case 0:case 1:n=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!n||a[1]>n[0]&&a[1]<n[3])){e.label=a[1];break}if(a[0]===6&&e.label<n[1]){e.label=n[1],n=a;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(a);break}n[2]&&e.ops.pop(),e.trys.pop();continue}a=o.call(r,e)}catch(l){a=[6,l],i=0}finally{t=n=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var C=Object.create?function(r,o,e,t){t===void 0&&(t=e),Object.defineProperty(r,t,{enumerable:!0,get:function(){return o[e]}})}:function(r,o,e,t){t===void 0&&(t=e),r[t]=o[e]};function ge(r,o){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(o,e)&&C(o,r,e)}function P(r){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&r[o],t=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(r,o){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var t=e.call(r),i,n=[],c;try{for(;(o===void 0||o-- >0)&&!(i=t.next()).done;)n.push(i.value)}catch(s){c={error:s}}finally{try{i&&!i.done&&(e=t.return)&&e.call(t)}finally{if(c)throw c.error}}return n}function he(){for(var r=[],o=0;o<arguments.length;o++)r=r.concat(_(arguments[o]));return r}function Me(){for(var r=0,o=0,e=arguments.length;o<e;o++)r+=arguments[o].length;for(var t=Array(r),i=0,o=0;o<e;o++)for(var n=arguments[o],c=0,s=n.length;c<s;c++,i++)t[i]=n[c];return t}function Q(r){return this instanceof Q?(this.v=r,this):new Q(r)}function Tt(r,o,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e.apply(r,o||[]),i,n=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(f){t[f]&&(i[f]=function(S){return new Promise(function(w,b){n.push([f,S,w,b])>1||s(f,S)})})}function s(f,S){try{u(t[f](S))}catch(w){d(n[0][3],w)}}function u(f){f.value instanceof Q?Promise.resolve(f.value.v).then(a,l):d(n[0][2],f)}function a(f){s("next",f)}function l(f){s("throw",f)}function d(f,S){f(S),n.shift(),n.length&&s(n[0][0],n[0][1])}}function At(r){var o,e;return o={},t("next"),t("throw",function(i){throw i}),t("return"),o[Symbol.iterator]=function(){return this},o;function t(i,n){o[i]=r[i]?function(c){return(e=!e)?{value:Q(r[i](c)),done:i==="return"}:n?n(c):c}:n}}function It(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r[Symbol.asyncIterator],e;return o?o.call(r):(r=typeof P=="function"?P(r):r[Symbol.iterator](),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(n){e[n]=r[n]&&function(c){return new Promise(function(s,u){c=r[n](c),i(s,u,c.done,c.value)})}}function i(n,c,s,u){Promise.resolve(u).then(function(a){n({value:a,done:s})},c)}}function Nt(r,o){return Object.defineProperty?Object.defineProperty(r,"raw",{value:o}):r.raw=o,r}var ot=Object.create?function(r,o){Object.defineProperty(r,"default",{enumerable:!0,value:o})}:function(r,o){r.default=o};function Zt(r){if(r&&r.__esModule)return r;var o={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&C(o,r,e);return ot(o,r),o}function Wt(r){return r&&r.__esModule?r:{default:r}}function jt(r,o){if(!o.has(r))throw new TypeError("attempted to get private field on non-instance");return o.get(r)}function Lt(r,o,e){if(!o.has(r))throw new TypeError("attempted to set private field on non-instance");return o.set(r,e),e}var it=v(52796),at=v.n(it);function ct(r,o,e,t,i,n){n===void 0&&(n=0);var c=ce(r,o,n),s=c.width,u=c.height,a=Math.min(s,e),l=Math.min(u,t);return a>l*i?{width:l*i,height:l}:{width:a,height:a/i}}function st(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function ye(r,o,e,t,i){i===void 0&&(i=0);var n=ce(o.width,o.height,i),c=n.width,s=n.height;return{x:Le(r.x,c,e.width,t),y:Le(r.y,s,e.height,t)}}function Le(r,o,e,t){var i=o*t/2-e/2;return we(r,-i,i)}function Fe(r,o){return Math.sqrt(Math.pow(r.y-o.y,2)+Math.pow(r.x-o.x,2))}function He(r,o){return Math.atan2(o.y-r.y,o.x-r.x)*180/Math.PI}function ut(r,o,e,t,i,n,c){n===void 0&&(n=0),c===void 0&&(c=!0);var s=c?lt:ht,u=ce(o.width,o.height,n),a=ce(o.naturalWidth,o.naturalHeight,n),l={x:s(100,((u.width-e.width/i)/2-r.x/i)/u.width*100),y:s(100,((u.height-e.height/i)/2-r.y/i)/u.height*100),width:s(100,e.width/u.width*100/i),height:s(100,e.height/u.height*100/i)},d=Math.round(s(a.width,l.width*a.width/100)),f=Math.round(s(a.height,l.height*a.height/100)),S=a.width>=a.height*t,w=S?{width:Math.round(f*t),height:f}:{width:d,height:Math.round(d/t)},b=p(p({},w),{x:Math.round(s(a.width-w.width,l.x*a.width/100)),y:Math.round(s(a.height-w.height,l.y*a.height/100))});return{croppedAreaPercentages:l,croppedAreaPixels:b}}function lt(r,o){return Math.min(r,Math.max(0,o))}function ht(r,o){return o}function ft(r,o,e,t,i,n){var c=ce(o.width,o.height,e),s=we(t.width/c.width*(100/r.width),i,n),u={x:s*c.width/2-t.width/2-c.width*s*(r.x/100),y:s*c.height/2-t.height/2-c.height*s*(r.y/100)};return{crop:u,zoom:s}}function dt(r,o,e){var t=st(o);return e.height>e.width?e.height/(r.height*t):e.width/(r.width*t)}function pt(r,o,e,t,i,n){e===void 0&&(e=0);var c=ce(o.naturalWidth,o.naturalHeight,e),s=we(dt(r,o,t),i,n),u=t.height>t.width?t.height/r.height:t.width/r.width,a={x:((c.width-r.width)/2-r.x)*u,y:((c.height-r.height)/2-r.y)*u};return{crop:a,zoom:s}}function ke(r,o){return{x:(o.x+r.x)/2,y:(o.y+r.y)/2}}function mt(r){return r*Math.PI/180}function ce(r,o,e){var t=mt(e);return{width:Math.abs(Math.cos(t)*r)+Math.abs(Math.sin(t)*o),height:Math.abs(Math.sin(t)*r)+Math.abs(Math.cos(t)*o)}}function we(r,o,e){return Math.min(Math.max(r,o),e)}function be(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var vt=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,gt=1,yt=3,wt=function(r){m(o,r);function o(){var e=r!==null&&r.apply(this,arguments)||this;return e.imageRef=h.createRef(),e.videoRef=h.createRef(),e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=document,e.currentWindow=window,e.state={cropSize:null,hasWheelJustStarted:!1},e.preventZoomSafari=function(t){return t.preventDefault()},e.cleanEvents=function(){e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped)},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var t=e.computeSizes();t&&(e.emitCropData(),e.setInitialCrop(t)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(t){if(e.props.initialCroppedAreaPercentages){var i=ft(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),n=i.crop,c=i.zoom;e.props.onCropChange(n),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var s=pt(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),n=s.crop,c=s.zoom;e.props.onCropChange(n),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var t,i,n,c,s,u,a=e.imageRef.current||e.videoRef.current;if(a&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect();var l=e.containerRect.width/e.containerRect.height,d=((t=e.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((n=e.imageRef.current)===null||n===void 0?void 0:n.naturalHeight)||((c=e.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,S=a.offsetWidth<d||a.offsetHeight<f,w=d/f,b=void 0;if(S)switch(e.props.objectFit){default:case"contain":b=l>w?{width:e.containerRect.height*w,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/w};break;case"horizontal-cover":b={width:e.containerRect.width,height:e.containerRect.width/w};break;case"vertical-cover":b={width:e.containerRect.height*w,height:e.containerRect.height};break;case"auto-cover":b=d>f?{width:e.containerRect.width,height:e.containerRect.width/w}:{width:e.containerRect.height*w,height:e.containerRect.height};break}else b={width:a.offsetWidth,height:a.offsetHeight};e.mediaSize=p(p({},b),{naturalWidth:d,naturalHeight:f}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var T=e.props.cropSize?e.props.cropSize:ct(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==T.height||((u=e.state.cropSize)===null||u===void 0?void 0:u.width)!==T.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(T),e.setState({cropSize:T},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(T),T}},e.onMouseDown=function(t){t.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.onDragStart(o.getMousePoint(t))},e.onMouseMove=function(t){return e.onDrag(o.getMousePoint(t))},e.onTouchStart=function(t){e.props.onTouchRequest&&!e.props.onTouchRequest(t)||(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),t.touches.length===2?e.onPinchStart(t):t.touches.length===1&&e.onDragStart(o.getTouchPoint(t.touches[0])))},e.onTouchMove=function(t){t.preventDefault(),t.touches.length===2?e.onPinchMove(t):t.touches.length===1&&e.onDrag(o.getTouchPoint(t.touches[0]))},e.onDragStart=function(t){var i,n,c=t.x,s=t.y;e.dragStartPosition={x:c,y:s},e.dragStartCrop=p({},e.props.crop),(n=(i=e.props).onInteractionStart)===null||n===void 0||n.call(i)},e.onDrag=function(t){var i=t.x,n=t.y;e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(!!e.state.cropSize&&!(i===void 0||n===void 0)){var c=i-e.dragStartPosition.x,s=n-e.dragStartPosition.y,u={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+s},a=e.props.restrictPosition?ye(u,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):u;e.props.onCropChange(a)}})},e.onDragStopped=function(){var t,i;e.cleanEvents(),e.emitCropData(),(i=(t=e.props).onInteractionEnd)===null||i===void 0||i.call(t)},e.onWheel=function(t){if(!(e.props.onWheelRequest&&!e.props.onWheelRequest(t))){t.preventDefault();var i=o.getMousePoint(t),n=at()(t).pixelY,c=e.props.zoom-n*e.props.zoomSpeed/200;e.setNewZoom(c,i,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,u;return(u=(s=e.props).onInteractionStart)===null||u===void 0?void 0:u.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,u;return(u=(s=e.props).onInteractionEnd)===null||u===void 0?void 0:u.call(s)})},250)}},e.getPointOnContainer=function(t){var i=t.x,n=t.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-e.containerRect.left),y:e.containerRect.height/2-(n-e.containerRect.top)}},e.getPointOnMedia=function(t){var i=t.x,n=t.y,c=e.props,s=c.crop,u=c.zoom;return{x:(i+s.x)/u,y:(n+s.y)/u}},e.setNewZoom=function(t,i,n){var c=(n===void 0?{}:n).shouldUpdatePosition,s=c===void 0?!0:c;if(!(!e.state.cropSize||!e.props.onZoomChange)){var u=e.getPointOnContainer(i),a=e.getPointOnMedia(u),l=we(t,e.props.minZoom,e.props.maxZoom),d={x:a.x*l-u.x,y:a.y*l-u.y};if(s){var f=e.props.restrictPosition?ye(d,e.mediaSize,e.state.cropSize,l,e.props.rotation):d;e.props.onCropChange(f)}e.props.onZoomChange(l)}},e.getCropData=function(){if(!e.state.cropSize)return null;var t=e.props.restrictPosition?ye(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return ut(t,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var t=e.getCropData();if(!!t){var i=t.croppedAreaPercentages,n=t.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(i,n),e.props.onCropAreaChange&&e.props.onCropAreaChange(i,n)}},e.emitCropAreaChange=function(){var t=e.getCropData();if(!!t){var i=t.croppedAreaPercentages,n=t.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(i,n)}},e.recomputeCropPosition=function(){if(!!e.state.cropSize){var t=e.props.restrictPosition?ye(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(t),e.emitCropData()}},e}return o.prototype.componentDidMount=function(){this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.preventZoomSafari),this.containerRef.addEventListener("gesturechange",this.preventZoomSafari)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=vt,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef)},o.prototype.componentWillUnmount=function(){var e;this.currentWindow.removeEventListener("resize",this.computeSizes),this.containerRef&&(this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.containerRef.removeEventListener("gesturechange",this.preventZoomSafari)),this.styleRef&&((e=this.styleRef.parentNode)===null||e===void 0||e.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},o.prototype.componentDidUpdate=function(e){var t,i,n,c,s,u,a,l,d;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((t=e.cropSize)===null||t===void 0?void 0:t.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((n=e.cropSize)===null||n===void 0?void 0:n.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((u=this.props.crop)===null||u===void 0?void 0:u.x)||((a=e.crop)===null||a===void 0?void 0:a.y)!==((l=this.props.crop)===null||l===void 0?void 0:l.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((d=this.videoRef.current)===null||d===void 0||d.load())},o.prototype.getAspect=function(){var e=this.props,t=e.cropSize,i=e.aspect;return t?t.width/t.height:i},o.prototype.onPinchStart=function(e){var t=o.getTouchPoint(e.touches[0]),i=o.getTouchPoint(e.touches[1]);this.lastPinchDistance=Fe(t,i),this.lastPinchRotation=He(t,i),this.onDragStart(ke(t,i))},o.prototype.onPinchMove=function(e){var t=this,i=o.getTouchPoint(e.touches[0]),n=o.getTouchPoint(e.touches[1]),c=ke(i,n);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=Fe(i,n),u=t.props.zoom*(s/t.lastPinchDistance);t.setNewZoom(u,c,{shouldUpdatePosition:!1}),t.lastPinchDistance=s;var a=He(i,n),l=t.props.rotation+(a-t.lastPinchRotation);t.props.onRotationChange&&t.props.onRotationChange(l),t.lastPinchRotation=a})},o.prototype.render=function(){var e=this,t=this.props,i=t.image,n=t.video,c=t.mediaProps,s=t.transform,u=t.crop,a=u.x,l=u.y,d=t.rotation,f=t.zoom,S=t.cropShape,w=t.showGrid,b=t.style,T=b.containerStyle,se=b.cropAreaStyle,J=b.mediaStyle,Z=t.classes,H=Z.containerClassName,ee=Z.cropAreaClassName,M=Z.mediaClassName,x=t.objectFit;return h.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(ue){return e.containerRef=ue},"data-testid":"container",style:T,className:be("reactEasyCrop_Container",H)},i?h.createElement("img",p({alt:"",className:be("reactEasyCrop_Image",x==="contain"&&"reactEasyCrop_Contain",x==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",x==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",x==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),M)},c,{src:i,ref:this.imageRef,style:p(p({},J),{transform:s||"translate("+a+"px, "+l+"px) rotate("+d+"deg) scale("+f+")"}),onLoad:this.onMediaLoad})):n&&h.createElement("video",p({autoPlay:!0,loop:!0,muted:!0,className:be("reactEasyCrop_Video",x==="contain"&&"reactEasyCrop_Contain",x==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",x==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",x==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),M)},c,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:p(p({},J),{transform:s||"translate("+a+"px, "+l+"px) rotate("+d+"deg) scale("+f+")"}),controls:!1}),(Array.isArray(n)?n:[{src:n}]).map(function(V){return h.createElement("source",p({key:V.src},V))})),this.state.cropSize&&h.createElement("div",{style:p(p({},se),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:be("reactEasyCrop_CropArea",S==="round"&&"reactEasyCrop_CropAreaRound",w&&"reactEasyCrop_CropAreaGrid",ee)}))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:yt,minZoom:gt,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},o.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o}(h.Component),bt=wt;function Ct(r){if(!!r&&typeof window!="undefined"){var o=document.createElement("style");return o.setAttribute("media","screen"),o.innerHTML=r,document.head.appendChild(o),r}}var Y=function(){return Y=Object.assign||function(o){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}return o},Y.apply(this,arguments)};function _t(r,o){var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&o.indexOf(t)<0&&(e[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(r);i<t.length;i++)o.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(r,t[i])&&(e[t[i]]=r[t[i]]);return e}function Oe(r,o,e,t){function i(n){return n instanceof e?n:new e(function(c){c(n)})}return new(e||(e=Promise))(function(n,c){function s(l){try{a(t.next(l))}catch(d){c(d)}}function u(l){try{a(t.throw(l))}catch(d){c(d)}}function a(l){l.done?n(l.value):i(l.value).then(s,u)}a((t=t.apply(r,o||[])).next())})}function ze(r,o){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},t,i,n,c;return c={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function s(a){return function(l){return u([a,l])}}function u(a){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,i&&(n=a[0]&2?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[a[0]&2,n.value]),a[0]){case 0:case 1:n=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,i=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!n||a[1]>n[0]&&a[1]<n[3])){e.label=a[1];break}if(a[0]===6&&e.label<n[1]){e.label=n[1],n=a;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(a);break}n[2]&&e.ops.pop(),e.trys.pop();continue}a=o.call(r,e)}catch(l){a=[6,l],i=0}finally{t=n=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var q="img-crop",Ue=1,fe=.1,De=0,Te=1,Ve=-180,Xe=180,xt=(0,h.forwardRef)(function(r,o){var e=r.cropperRef,t=r.image,i=r.aspect,n=r.shape,c=r.grid,s=r.zoom,u=r.rotate,a=r.minZoom,l=r.maxZoom,d=r.cropperProps,f=(0,h.useState)({x:0,y:0}),S=f[0],w=f[1],b=(0,h.useState)({width:0,height:0}),T=b[0],se=b[1],J=(0,h.useState)(Ue),Z=J[0],H=J[1],ee=(0,h.useState)(De),M=ee[0],x=ee[1],V=(0,h.useRef)({width:0,height:0,x:0,y:0}),ue=(0,h.useCallback)(function(de){var te=de.width,Ce=de.height,_e=Ce*i;te>_e?se({width:_e,height:Ce}):se({width:te,height:te/i})},[i]),Ae=(0,h.useCallback)(function(de,te){V.current=te},[]);return(0,h.useImperativeHandle)(o,function(){return{rotateVal:M,setZoomVal:H,setRotateVal:x,cropPixelsRef:V}},[M]),h.createElement(h.Fragment,null,h.createElement(bt,Y({},d,{ref:e,image:t,crop:S,cropSize:T,onCropChange:w,aspect:i,cropShape:n,showGrid:c,zoomWithScroll:s,zoom:Z,rotation:M,onZoomChange:H,onRotationChange:x,minZoom:a,maxZoom:l,onMediaLoaded:ue,onCropComplete:Ae,classes:{containerClassName:"".concat(q,"-container"),mediaClassName:"".concat(q,"-media")}})),s&&h.createElement("section",{className:"".concat(q,"-control ").concat(q,"-control-zoom")},h.createElement("button",{onClick:function(){return H(Z-fe)},disabled:Z-fe<a},"\uFF0D"),h.createElement(F.Z,{min:a,max:l,step:fe,value:Z,onChange:H}),h.createElement("button",{onClick:function(){return H(Z+fe)},disabled:Z+fe>l},"\uFF0B")),u&&h.createElement("section",{className:"".concat(q,"-control ").concat(q,"-control-rotate")},h.createElement("button",{onClick:function(){return x(M-Te)},disabled:M===Ve},"\u21BA"),h.createElement(F.Z,{min:Ve,max:Xe,step:Te,value:M,onChange:x}),h.createElement("button",{onClick:function(){return x(M+Te)},disabled:M===Xe},"\u21BB")))}),St=(0,h.memo)(xt);Ct(`.img-crop-modal .img-crop-container {
  position: relative;
  width: 100%;
  height: 40vh;
}
.img-crop-modal .img-crop-control {
  display: flex;
  align-items: center;
  width: 60%;
  margin-left: auto;
  margin-right: auto;
}
.img-crop-modal .img-crop-control:first-of-type {
  margin-top: 16px;
}
.img-crop-modal .img-crop-control:last-of-type {
  margin-bottom: -8px;
}
.img-crop-modal .img-crop-control button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  padding: 0;
  font-style: normal;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
}
.img-crop-modal .img-crop-control button[disabled] {
  cursor: default;
}
.img-crop-modal .img-crop-control button + div:only-of-type {
  flex: 1;
  margin: 0 8px;
}
.img-crop-modal .img-crop-control-zoom button {
  font-size: 18px;
}
.img-crop-modal .img-crop-control-rotate button {
  font-size: 16px;
}
.img-crop-modal .img-crop-control-rotate button:first-of-type {
  transform: rotate(-20deg);
}
.img-crop-modal .img-crop-control-rotate button:last-of-type {
  transform: rotate(20deg);
}
`);var Rt=(0,h.forwardRef)(function(r,o){var e=r.aspect,t=e===void 0?1:e,i=r.shape,n=i===void 0?"rect":i,c=r.grid,s=c===void 0?!1:c,u=r.quality,a=u===void 0?.4:u,l=r.fillColor,d=l===void 0?"white":l,f=r.zoom,S=f===void 0?!0:f,w=r.rotate,b=w===void 0?!1:w,T=r.minZoom,se=T===void 0?1:T,J=r.maxZoom,Z=J===void 0?3:J,H=r.modalTitle,ee=r.modalWidth,M=r.modalOk,x=r.modalCancel,V=r.modalMaskTransitionName,ue=r.modalTransitionName,Ae=r.modalClassName,de=r.onModalOk,te=r.onModalCancel,Ce=r.beforeCrop,_e=r.onUploadFail,Et=r.cropperProps,xe=r.children,X=(0,h.useRef)({});X.current.onModalOk=de,X.current.onModalCancel=te,X.current.beforeCrop=Ce,X.current.onUploadFail=_e;var Ge=(0,h.useState)(""),Be=Ge[0],Ye=Ge[1],qe=(0,h.useRef)(),Ie=(0,h.useRef)(),Se=(0,h.useRef)(),Ne=(0,h.useRef)(),Pt=(0,h.useMemo)(function(){var y=Array.isArray(xe)?xe[0]:xe,g=y.props,re=g.beforeUpload,ne=g.accept,$=_t(g,["beforeUpload","accept"]);return Ie.current=re,Y(Y({},y),{props:Y(Y({},$),{accept:ne||"image/*",beforeUpload:function(k,pe){return new Promise(function(me,G){return Oe(void 0,void 0,void 0,function(){var B,U;return ze(this,function(oe){switch(oe.label){case 0:return X.current.beforeCrop?[4,X.current.beforeCrop(k,pe)]:[3,2];case 1:if(B=oe.sent(),!B)return[2,G()];oe.label=2;case 2:return qe.current=k,Se.current=function(K){var W,O;(O=(W=X.current).onModalOk)===null||O===void 0||O.call(W,K),me(K)},Ne.current=function(K){var W,O;(O=(W=X.current).onUploadFail)===null||O===void 0||O.call(W,K),G()},U=new FileReader,U.addEventListener("load",function(){typeof U.result=="string"&&Ye(U.result)}),U.readAsDataURL(k),[2]}})})})}})})},[xe]),le=(0,h.useRef)({}),Mt=(0,h.useMemo)(function(){var y={width:ee,okText:M,cancelText:x,maskTransitionName:V,transitionName:ue};return Object.keys(y).forEach(function(g){y[g]||delete y[g]}),y},[x,V,M,ue,ee]),Je=function(){Ye(""),le.current.setZoomVal(Ue),le.current.setRotateVal(De)},Ot=(0,h.useCallback)(function(){var y,g;(g=(y=X.current).onModalCancel)===null||g===void 0||g.call(y),Je()},[]),zt=(0,h.useCallback)(function(){return Oe(void 0,void 0,void 0,function(){var y,g,re,ne,$,k,pe,me,G,B,U,oe,K,W,O,Ze,We,Ke,Qe,et,Re,je,tt,rt;return ze(this,function(Ft){return Je(),y=document.createElement("canvas"),g=y.getContext("2d"),re=document.querySelector(".".concat(q,"-media")),ne=le.current.cropPixelsRef.current,$=ne.width,k=ne.height,pe=ne.x,me=ne.y,b&&le.current.rotateVal!==De?(G=re.naturalWidth,B=re.naturalHeight,U=le.current.rotateVal*(Math.PI/180),oe=Math.abs(Math.sin(U)),K=Math.abs(Math.cos(U)),W=G*K+B*oe,O=B*K+G*oe,y.width=W,y.height=O,g.fillStyle=d,g.fillRect(0,0,W,O),Ze=W/2,We=O/2,g.translate(Ze,We),g.rotate(U),g.translate(-Ze,-We),Ke=(W-G)/2,Qe=(O-B)/2,g.drawImage(re,0,0,G,B,Ke,Qe,G,B),et=g.getImageData(0,0,W,O),y.width=$,y.height=k,g.putImageData(et,-pe,-me)):(y.width=$,y.height=k,g.fillStyle=d,g.fillRect(0,0,$,k),g.drawImage(re,pe,me,$,k,0,0,$,k)),Re=qe.current,je=Re.type,tt=Re.name,rt=Re.uid,y.toBlob(function(Dt){return Oe(void 0,void 0,void 0,function(){var ie,ae;return ze(this,function(nt){switch(nt.label){case 0:return ie=Object.assign(new File([Dt],tt,{type:je}),{uid:rt}),Ie.current?[4,Ie.current(ie,[ie])]:[2,Se.current(ie)];case 1:return ae=nt.sent(),ae===!0?[2,Se.current(ie)]:ae===!1?[2,Ne.current(new Error("beforeUpload return false"))]:(delete ie[z.Z.LIST_IGNORE],ae===z.Z.LIST_IGNORE?(Object.defineProperty(ie,z.Z.LIST_IGNORE,{value:!0,configurable:!0}),[2,Ne.current(new Error("beforeUpload return LIST_IGNORE"))]):typeof ae=="object"&&ae!==null?[2,Se.current(ae)]:[2])}})})},je,a),[2]})})},[d,a,b]),$e=function(y){return h.createElement(h.Fragment,null,Pt,Be&&h.createElement(L.Z,Y({open:!0,wrapClassName:"".concat(q,"-modal ").concat(Ae||""),title:y,onOk:zt,onCancel:Ot,maskClosable:!1,destroyOnClose:!0},Mt),h.createElement(St,{ref:le,cropperRef:o,image:Be,aspect:t,shape:n,grid:s,zoom:S,rotate:b,minZoom:se,maxZoom:Z,cropperProps:Et})))};return H?$e(H):h.createElement(I.Z,null,function(y,g){return $e(g==="zh-cn"?"\u7F16\u8F91\u56FE\u7247":"Edit image")})})},52796:function(j,A,v){j.exports=v(10643)},13264:function(j){"use strict";var A=!!(typeof window!="undefined"&&window.document&&window.document.createElement),v={canUseDOM:A,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:A&&!!(window.addEventListener||window.attachEvent),canUseViewport:A&&!!window.screen,isInWorker:!A};j.exports=v},84518:function(j){var A=!1,v,h,L,z,I,F,R,m,p,E,N,D,ve,Ee,Pe;function C(){if(!A){A=!0;var P=navigator.userAgent,_=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(P),he=/(Mac OS X)|(Windows)|(Linux)/.exec(P);if(D=/\b(iPhone|iP[ao]d)/.exec(P),ve=/\b(iP[ao]d)/.exec(P),E=/Android/i.exec(P),Ee=/FBAN\/\w+;/i.exec(P),Pe=/Mobile/i.exec(P),N=!!/Win64/.exec(P),_){v=_[1]?parseFloat(_[1]):_[5]?parseFloat(_[5]):NaN,v&&document&&document.documentMode&&(v=document.documentMode);var Me=/(?:Trident\/(\d+.\d+))/.exec(P);F=Me?parseFloat(Me[1])+4:v,h=_[2]?parseFloat(_[2]):NaN,L=_[3]?parseFloat(_[3]):NaN,z=_[4]?parseFloat(_[4]):NaN,z?(_=/(?:Chrome\/(\d+\.\d+))/.exec(P),I=_&&_[1]?parseFloat(_[1]):NaN):I=NaN}else v=h=L=I=z=NaN;if(he){if(he[1]){var Q=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(P);R=Q?parseFloat(Q[1].replace("_",".")):!0}else R=!1;m=!!he[2],p=!!he[3]}else R=m=p=!1}}var ge={ie:function(){return C()||v},ieCompatibilityMode:function(){return C()||F>v},ie64:function(){return ge.ie()&&N},firefox:function(){return C()||h},opera:function(){return C()||L},webkit:function(){return C()||z},safari:function(){return ge.webkit()},chrome:function(){return C()||I},windows:function(){return C()||m},osx:function(){return C()||R},linux:function(){return C()||p},iphone:function(){return C()||D},mobile:function(){return C()||D||ve||E||Pe},nativeApp:function(){return C()||Ee},android:function(){return C()||E},ipad:function(){return C()||ve}};j.exports=ge},96534:function(j,A,v){"use strict";var h=v(13264),L;h.canUseDOM&&(L=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function z(I,F){if(!h.canUseDOM||F&&!("addEventListener"in document))return!1;var R="on"+I,m=R in document;if(!m){var p=document.createElement("div");p.setAttribute(R,"return;"),m=typeof p[R]=="function"}return!m&&L&&I==="wheel"&&(m=document.implementation.hasFeature("Events.wheel","3.0")),m}j.exports=z},10643:function(j,A,v){"use strict";var h=v(84518),L=v(96534),z=10,I=40,F=800;function R(m){var p=0,E=0,N=0,D=0;return"detail"in m&&(E=m.detail),"wheelDelta"in m&&(E=-m.wheelDelta/120),"wheelDeltaY"in m&&(E=-m.wheelDeltaY/120),"wheelDeltaX"in m&&(p=-m.wheelDeltaX/120),"axis"in m&&m.axis===m.HORIZONTAL_AXIS&&(p=E,E=0),N=p*z,D=E*z,"deltaY"in m&&(D=m.deltaY),"deltaX"in m&&(N=m.deltaX),(N||D)&&m.deltaMode&&(m.deltaMode==1?(N*=I,D*=I):(N*=F,D*=F)),N&&!p&&(p=N<1?-1:1),D&&!E&&(E=D<1?-1:1),{spinX:p,spinY:E,pixelX:N,pixelY:D}}R.getEventType=function(){return h.firefox()?"DOMMouseScroll":L("wheel")?"wheel":"mousewheel"},j.exports=R}}]);
