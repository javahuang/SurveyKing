(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[3751],{22164:function(P,I,t){"use strict";t.d(I,{Z:function(){return a}});var p=t(28991),w=t(67294),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 140H96c-17.7 0-32 14.3-32 32v496c0 17.7 14.3 32 32 32h380v112H304c-8.8 0-16 7.2-16 16v48c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-48c0-8.8-7.2-16-16-16H548V700h380c17.7 0 32-14.3 32-32V172c0-17.7-14.3-32-32-32zm-40 488H136V212h752v416z"}}]},name:"desktop",theme:"outlined"},s=S,x=t(27029),u=function(y,F){return w.createElement(x.Z,(0,p.Z)((0,p.Z)({},y),{},{ref:F,icon:s}))};u.displayName="DesktopOutlined";var a=w.forwardRef(u)},23751:function(P,I,t){"use strict";t.r(I),t.d(I,{default:function(){return b}});var p=t(18106),w=t(38222),S=t(83279),s=t(39428),x=t(3182),u=t(94657),a=t(67294),g=t(3054),y=t(80582),F=t(63258),T=t(22164),B=t(71194),k=t(50146),$=t(58024),z=t(91894),E=t(42285),e=t(85893),R=function(o){var c=o.repo,m=o.onCancel,n={width:"100%",textAlign:"center"};return(0,e.jsx)(k.Z,{title:!1,open:!0,footer:!1,onCancel:m,width:600,children:(0,e.jsxs)(z.Z,{title:c.name,style:{cursor:"pointer"},className:"practice-modal",children:[(0,e.jsx)(z.Z.Grid,{style:n,onClick:function(){E.m8.push("/t/".concat(c.id,"?ptype=O"))},children:(0,e.jsxs)("div",{className:"practice-item",children:[(0,e.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"32",height:"32",children:[(0,e.jsx)("path",{d:"M0 0m178.086957 0l667.826086 0q178.086957 0 178.086957 178.086957l0 667.826086q0 178.086957-178.086957 178.086957l-667.826086 0q-178.086957 0-178.086957-178.086957l0-667.826086q0-178.086957 178.086957-178.086957Z",fill:"#36ae7c"}),(0,e.jsx)("path",{d:"M880.37287 536.509217a34.103652 34.103652 0 0 0-48.350609-0.200347l-120.253218 128.26713V307.2c0-18.67687 1.157565-43.297391-39.713391-39.713391-18.587826 1.580522-19.856696 21.036522-19.856695 39.713391v357.376l-107.965218-129.246609a33.346783 33.346783 0 0 0-47.638261-0.400695 34.214957 34.214957 0 0 0-0.26713 48.038956l155.870609 161.035131c5.743304 7.43513 12.421565 14.113391 19.856695 19.856695 8.592696 2.582261 13.490087 6.144 19.856696 0l19.856695-19.856695 168.737392-159.432348a34.081391 34.081391 0 0 0-0.111305-48.061218h-0.02226z m-694.76174-50.621217h218.379131a29.785043 29.785043 0 0 1 0 59.547826h-218.379131a29.785043 29.785043 0 0 1 0-59.547826z m0 218.37913h317.662609a29.785043 29.785043 0 0 1 0 59.592348H185.633391a29.785043 29.785043 0 1 1 0-59.570087z m0-436.780521h317.662609a29.785043 29.785043 0 0 1 0 59.547826H185.633391a29.785043 29.785043 0 1 1 0-59.547826z",fill:"#FFFFFF"})]}),(0,e.jsxs)("div",{className:"practice-item-detail",children:[(0,e.jsx)("div",{className:"practice-item-detail-title",children:"\u987A\u5E8F\u7EC3\u4E60"}),(0,e.jsxs)("span",{className:"practice-item-detail-desc",children:["0 / ",c.total]})]})]})}),(0,e.jsx)(z.Z.Grid,{style:n,onClick:function(){E.m8.push("/t/".concat(c.id,"?ptype=R"))},children:(0,e.jsxs)("div",{className:"practice-item",children:[(0,e.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"32",height:"32",children:[(0,e.jsx)("path",{d:"M0 0m358.4 0l307.2 0q358.4 0 358.4 358.4l0 307.2q0 358.4-358.4 358.4l-307.2 0q-358.4 0-358.4-358.4l0-307.2q0-358.4 358.4-358.4Z",fill:"#5E9CED"}),(0,e.jsx)("path",{d:"M540.032 442.5728a123.648 123.648 0 0 0-27.9296 77.9264c0 29.4912-8.6016 56.8576-21.504 82.1504-8.576 12.6464-17.152 25.2672-27.904 35.7888-32.256 31.616-75.2128 50.56-122.4448 50.56h-43.008c-12.8512 0-21.4528-8.4224-21.4528-21.0688 0-12.6208 8.6016-21.0432 21.4784-21.0432h42.9824c40.8064 0 77.312-18.944 100.9408-48.4608a123.648 123.648 0 0 0 27.9296-77.9264c0-29.4912 8.6016-56.8832 21.504-82.176 8.576-12.6208 17.152-25.2416 27.904-35.7888 32.256-31.5904 75.1872-50.56 122.4704-50.56h34.3552l-49.408-48.4352a20.096 20.096 0 0 1 0-29.4912 21.0432 21.0432 0 0 1 30.08 0l85.9392 84.2496a20.096 20.096 0 0 1 0 29.4912l-85.9392 84.2752a23.4752 23.4752 0 0 1-15.0272 6.2976 23.4496 23.4496 0 0 1-15.0528-6.2976 20.096 20.096 0 0 1 0-29.4912l49.408-48.4608H641.024c-40.832 0-77.3376 18.944-100.9664 48.4608z m-242.7648-48.4608h42.9824c40.8064 0 77.312 18.944 100.9408 48.4608a239.104 239.104 0 0 1 21.504-40.0384c-32.256-31.5904-75.2128-50.56-122.4448-50.56h-43.008c-12.8512 0-21.4528 8.448-21.4528 21.0688 0 12.6464 8.6016 21.0688 21.4784 21.0688z m358.7584 174.848a21.0432 21.0432 0 0 0-30.08 0 20.096 20.096 0 0 0 0 29.4656l49.408 48.4608H641.024a129.2032 129.2032 0 0 1-100.9664-48.4608 238.1312 238.1312 0 0 1-21.504 40.0128c32.256 31.616 75.1872 50.56 122.4704 50.56h34.3552l-49.408 48.4352a20.096 20.096 0 0 0 0 29.4912c4.3008 4.224 10.752 6.3232 15.0528 6.3232 4.2752 0 10.752-2.0992 15.0272-6.3232l85.9392-84.224a20.096 20.096 0 0 0 0-29.5168l-85.9392-84.224z",fill:"#FFFFFF"})]}),(0,e.jsxs)("div",{className:"practice-item-detail",children:[(0,e.jsx)("div",{className:"practice-item-detail-title",children:"\u968F\u673A\u7EC3\u4E60"}),(0,e.jsx)("span",{className:"practice-item-detail-desc",children:"\u8BD5\u9898\u987A\u5E8F\u6253\u4E71\u7EC3\u4E60"})]})]})}),(0,e.jsx)(z.Z.Grid,{style:n,onClick:function(){E.m8.push("/t/".concat(c.id,"?ptype=W"))},children:(0,e.jsxs)("div",{className:"practice-item",children:[(0,e.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"32",height:"32",children:[(0,e.jsx)("path",{d:"M398.222222 0h227.555556a398.222222 398.222222 0 0 1 398.222222 398.222222v227.555556a398.222222 398.222222 0 0 1-398.222222 398.222222h-227.555556A398.222222 398.222222 0 0 1 0 625.777778v-227.555556A398.222222 398.222222 0 0 1 398.222222 0z",fill:"#F14A72"}),(0,e.jsx)("path",{d:"M682.695111 824.888889h-341.333333a113.777778 113.777778 0 0 1-113.777778-113.777778V312.888889a113.777778 113.777778 0 0 1 113.777778-113.777778h341.333333a113.777778 113.777778 0 0 1 113.777778 113.777778v398.222222a113.777778 113.777778 0 0 1-113.777778 113.777778z m-329.955555-153.6a59.733333 59.733333 0 0 0-59.733334 59.733333 59.733333 59.733333 0 0 0 59.733334 59.733334h318.350222a69.717333 69.717333 0 0 0 69.632-69.632v-49.777778z m129.308444-387.982222a108.572444 108.572444 0 0 0-42.666667 8.533333 108.316444 108.316444 0 0 0-34.816 23.466667 108.913778 108.913778 0 0 0-23.409777 34.759111 108.743111 108.743111 0 0 0-8.533334 42.666666v99.555556a108.458667 108.458667 0 0 0 8.533334 42.666667 109.624889 109.624889 0 0 0 23.409777 34.787555 108.942222 108.942222 0 0 0 34.816 23.438222 108.629333 108.629333 0 0 0 42.666667 8.533334h99.555556a108.714667 108.714667 0 0 0 42.666666-8.533334 108.970667 108.970667 0 0 0 34.787556-23.438222 109.112889 109.112889 0 0 0 23.466666-34.787555 108.828444 108.828444 0 0 0 8.533334-42.666667v-99.555556a109.141333 109.141333 0 0 0-8.533334-42.666666 108.686222 108.686222 0 0 0-23.466666-34.759111 108.316444 108.316444 0 0 0-34.787556-23.466667 108.657778 108.657778 0 0 0-42.666666-8.533333z m-184.064 69.632a14.933333 14.933333 0 0 0-14.904889 14.933333v29.838222a14.933333 14.933333 0 0 0 14.904889 14.933334 14.961778 14.961778 0 0 0 14.933333-14.933334v-29.838222a14.961778 14.961778 0 0 0-14.819555-15.160889z m0-44.743111a14.933333 14.933333 0 0 0-14.904889 14.904888 14.933333 14.933333 0 0 0 14.904889 14.933334 14.961778 14.961778 0 0 0 14.933333-14.933334 14.933333 14.933333 0 0 0-14.819555-15.047111z m283.562667 263.651555h-102.001778a79.36 79.36 0 0 1-54.613333-24.120889 79.160889 79.160889 0 0 1-22.499556-55.466666v-101.944889a79.047111 79.047111 0 0 1 24.120889-54.584889 78.961778 78.961778 0 0 1 55.438222-22.528h102.001778a79.075556 79.075556 0 0 1 54.613333 24.092444 79.246222 79.246222 0 0 1 22.499556 55.466667v101.944889a79.416889 79.416889 0 0 1-24.092445 54.641778 79.416889 79.416889 0 0 1-55.381333 22.385777z m-49.351111-87.665778l28.131555 28.103111a29.667556 29.667556 0 0 0 21.105778 8.732445 29.667556 29.667556 0 0 0 21.105778-8.732445 29.895111 29.895111 0 0 0 0-42.211555l-28.16-28.131556 28.16-28.131555 1.336889-1.422222a29.838222 29.838222 0 0 0-1.336889-40.760889l-1.422223-1.336889a29.895111 29.895111 0 0 0-19.712-7.424 29.639111 29.639111 0 0 0-21.105777 8.760889l-28.131556 28.131555-28.131555-28.131555a29.639111 29.639111 0 0 0-21.105778-8.732445 29.639111 29.639111 0 0 0-21.105778 8.732445 29.639111 29.639111 0 0 0-8.760889 21.162666 29.525333 29.525333 0 0 0 8.760889 21.048889l28.131556 28.131556-28.131556 28.131555-1.365333 1.450667a29.866667 29.866667 0 0 0 1.365333 40.760889l1.450667 1.365333a29.610667 29.610667 0 0 0 19.626666 7.367111 29.696 29.696 0 0 0 21.105778-8.732444l28.131556-28.103111z",fill:"#FFFFFF"})]}),(0,e.jsxs)("div",{className:"practice-item-detail",children:[(0,e.jsx)("div",{className:"practice-item-detail-title",children:"\u9519\u9898\u7EC3\u4E60"}),(0,e.jsx)("span",{className:"practice-item-detail-desc",children:"\u9488\u5BF9\u9519\u9898\u7EC3\u4E60"})]})]})})]})})},M=t(3980),V=function(o){var c=o.category,m=(0,a.useRef)(),n=(0,a.useRef)(),r=(0,a.useState)(),d=(0,u.Z)(r,2),h=d[0],j=d[1],f=[{title:"\u9898\u5E93\u540D\u79F0",dataIndex:"name"},{title:"\u95EE\u9898\u6570\u91CF",dataIndex:"total",search:!1,width:150},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(i,C){var A=[];return A.push((0,e.jsx)("a",{onClick:function(){return j(C)},children:"\u5F00\u59CB\u7EC3\u4E60"},"edit")),A}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g.QVr,{bordered:!0,params:{category:c,isPractice:!0},columns:f,formRef:n,actionRef:m,request:function(){var v=(0,x.Z)((0,s.Z)().mark(function i(C){return(0,s.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",M.hi.loadRepo(C));case 1:case"end":return l.stop()}},i)}));return function(i){return v.apply(this,arguments)}}(),rowKey:"id",search:{labelWidth:"auto"},headerTitle:"\u9898\u5E93\u5217\u8868"}),h&&(0,e.jsx)(R,{onCancel:function(){return j(void 0)},repo:h})]})},G=(0,y.Pi)(V),q=t(34792),L=t(48086),_=t(20136),U=t(55241),e0=t(71153),H=t(60331),Q=t(92592),W=function(o){var c=o.value,m=o.name,n=o.size,r=(0,a.useState)(""),d=(0,u.Z)(r,2),h=d[0],j=d[1];(0,a.useEffect)(function(){function v(){return i.apply(this,arguments)}function i(){return i=(0,x.Z)((0,s.Z)().mark(function C(){return(0,s.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:Q.toDataURL(c,{errorCorrectionLevel:"H",type:"image/jpeg",quality:.3,margin:5}).then(function(Z){j(Z)}).catch(function(Z){console.error(Z)});case 1:case"end":return l.stop()}},C)})),i.apply(this,arguments)}v()},[c]);var f=(0,a.useCallback)(function(){var v=(0,x.Z)((0,s.Z)().mark(function i(C){return(0,s.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:Q.toDataURL(c,{errorCorrectionLevel:"H",margin:5,width:C}).then(function(Z){j(Z);var N=document.createElement("a");N.href=Z,N.setAttribute("download","".concat(m,"_").concat(C,".png")),document.body.appendChild(N),N.click(),document.body.removeChild(N)});case 1:case"end":return l.stop()}},i)}));return function(i){return v.apply(this,arguments)}}(),[c]);return(0,e.jsx)("img",{src:h,height:n,width:n})},K=W;function J(){var D=(0,a.useRef)(),o=(0,a.useRef)(),c=[{title:"\u7EC3\u4E60\u540D\u79F0",dataIndex:"projectName",search:!1},{title:"\u7EC3\u4E60\u8FDB\u5EA6",dataIndex:"percent",search:!1,width:150,valueType:{type:"progress"}},{title:"\u7EC3\u4E60\u7C7B\u578B",dataIndex:"examExerciseType",search:!1,width:150,render:function(n){return n==="O"?(0,e.jsx)(H.Z,{color:"processing",children:"\u987A\u5E8F\u7EC3\u4E60"}):n==="R"?(0,e.jsx)(H.Z,{color:"warning",children:"\u968F\u673A\u7EC3\u4E60"}):n==="W"?(0,e.jsx)(H.Z,{color:"error",children:"\u9519\u9898\u7EC3\u4E60"}):(0,e.jsx)(e.Fragment,{})}},{title:"\u72B6\u6001",dataIndex:"tempSave",width:100,valueEnum:{0:{text:"\u6B63\u5728\u8FDB\u884C",status:"Processing"},1:{text:"\u5DF2\u5B8C\u6210",status:"Success"}}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",search:!1,width:200},{title:"\u5F00\u59CB\u65F6\u95F4",dataIndex:"createTime",valueType:"dateRange",hideInTable:!0,search:!1},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(n,r){var d=[];r.tempSave===0&&d.push((0,e.jsx)("a",{onClick:function(){E.m8.push("/t/".concat(r.repoId,"/").concat(r.answerId))},children:"\u7EE7\u7EED\u7B54\u9898"},"edit")),r.tempSave===1&&d.push((0,e.jsx)("a",{onClick:function(){E.m8.push("/t/".concat(r.repoId,"/").concat(r.answerId))},children:"\u67E5\u770B\u7ED3\u679C"},"edit"));var h="".concat(window.location.origin,"/t/").concat(r.repoId,"/").concat(r.answerId);return d.push((0,e.jsx)(U.Z,{content:(0,e.jsx)(K,{value:h,size:90}),overlayInnerStyle:{padding:0},children:(0,e.jsx)("a",{children:"\u4E8C\u7EF4\u7801"})})),d.push((0,e.jsx)("a",{onClick:(0,x.Z)((0,s.Z)().mark(function j(){return(0,s.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:k.Z.confirm({title:"\u5220\u9664\u7EC3\u4E60",content:"\u786E\u5B9A\u5220\u9664\u5F53\u524D\u7EC3\u4E60\u5417\uFF1F",onOk:function(){var i=(0,x.Z)((0,s.Z)().mark(function A(){var l,Z;return(0,s.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,M.hi.deleteAnswer([r.id]);case 2:l=O.sent,l.success?(L.default.success("\u5220\u9664\u6210\u529F"),(Z=D.current)===null||Z===void 0||Z.reload()):L.default.error("\u5220\u9664\u5931\u8D25");case 4:case"end":return O.stop()}},A)}));function C(){return i.apply(this,arguments)}return C}()});case 1:case"end":return v.stop()}},j)})),children:"\u5220\u9664"},"delete")),d}}];return(0,e.jsx)(g.QVr,{bordered:!0,columns:c,formRef:o,actionRef:D,request:function(){var m=(0,x.Z)((0,s.Z)().mark(function n(r){return(0,s.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",M.hi.listExercise(r));case 1:case"end":return h.stop()}},n)}));return function(n){return m.apply(this,arguments)}}(),rowKey:"id",search:{labelWidth:"auto"},headerTitle:"\u6211\u7684\u7EC3\u4E60"})}var X=t(94975),Y=function(){var o,c=(0,a.useState)("mine"),m=(0,u.Z)(c,2),n=m[0],r=m[1],d=(0,X.Z)((0,x.Z)((0,s.Z)().mark(function f(){return(0,s.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",M.hi.loadRepo({current:1,pageSize:9999,isPractice:!0}));case 1:case"end":return i.stop()}},f)}))),h=(0,S.Z)(new Set((((o=d.value)===null||o===void 0?void 0:o.list)||[]).filter(function(f){return!!f}).map(function(f){return f.category}))),j=h.map(function(f){return{key:f,label:(0,e.jsxs)("span",{children:[(0,e.jsx)(F.Z,{}),f]})}})||[];return(0,e.jsxs)(g._zJ,{title:!1,children:[(0,e.jsx)(w.Z,{onChange:function(v){return r(v)},items:[{label:(0,e.jsxs)("span",{children:[(0,e.jsx)(T.Z,{}),"\u6211\u7684\u7EC3\u4E60"]}),key:"mine"}].concat((0,S.Z)(j))}),n!=="mine"&&(0,e.jsx)(G,{category:n}),n==="mine"&&(0,e.jsx)(J,{})]})},b=(0,y.Pi)(Y)},94975:function(P,I,t){"use strict";t.d(I,{Z:function(){return x}});var p=t(67294),w=t(65353);function S(){var u=(0,p.useRef)(!1),a=(0,p.useCallback)(function(){return u.current},[]);return(0,p.useEffect)(function(){return u.current=!0,function(){u.current=!1}},[]),a}function s(u,a,g){a===void 0&&(a=[]),g===void 0&&(g={loading:!1});var y=(0,p.useRef)(0),F=S(),T=(0,p.useState)(g),B=T[0],k=T[1],$=(0,p.useCallback)(function(){for(var z=[],E=0;E<arguments.length;E++)z[E]=arguments[E];var e=++y.current;return B.loading||k(function(R){return(0,w.pi)((0,w.pi)({},R),{loading:!0})}),u.apply(void 0,z).then(function(R){return F()&&e===y.current&&k({value:R,loading:!1}),R},function(R){return F()&&e===y.current&&k({error:R,loading:!1}),R})},a);return[B,$]}function x(u,a){a===void 0&&(a=[]);var g=s(u,a,{loading:!0}),y=g[0],F=g[1];return(0,p.useEffect)(function(){F()},[F]),y}}}]);
