# å·ç‹

ç®€ä½“ä¸­æ–‡ | [English](./README.en-us.md)

<img src="./docs/preview.jpg" width = "100%" alt="" align=center />

<details>
  <summary>é¢„è§ˆ</summary>

  ![preview-surveyking](./docs/preview.gif)

</details>

## èƒŒæ™¯

åŸºäºé˜¿é‡Œå¤§ä½¬ [Janry](https://github.com/janryWang) å¼€æºçš„ [formily](https://github.com/alibaba/formily) è¡¨å•è§£å†³æ–¹æ¡ˆè‡ªç ”é—®å·ç¼–è¾‘å™¨ï¼Œä½¿ç”¨æœ€æ–°çš„å‰åç«¯æŠ€æœ¯ï¼ˆReact+SpringBoot+AntDesignUIï¼‰ï¼Œæ„å»ºå‡ºä¸€å¥—å®Œæ•´çš„è°ƒæŸ¥é—®å·ç³»ç»Ÿã€‚

å·ç‹æ˜¯å·²çŸ¥å¼€æºè°ƒæŸ¥é—®å·ç³»ç»Ÿä¸­**åŠŸèƒ½æœ€å¼ºå¤§**ã€**å®‰è£…æœ€ç®€å•**ã€**ç»¼åˆä½“éªŒæœ€å¥½**çš„ä¸€ä¸ªï¼Œä¸€äº›åŠŸèƒ½ç‰¹æ€§åŠä½“éªŒå¯ä»¥å¯¹æ ‡ç”šè‡³è¶…è¿‡é—®å·ç½‘ã€é—®å·æ˜Ÿã€è…¾è®¯é—®å·è¿™äº›å›½å†…ä¸»æµçš„åœ¨çº¿è¡¨å•ç³»ç»Ÿã€‚

**ç¨³å®š**ã€**æ˜“ç”¨**ã€**ä¸“ä¸š**ï¼Œæ˜¯å·ç‹çš„æŒç»­å¼€å‘ç†å¿µã€‚ä¼ä¸šç”šè‡³ä¸ªäººéƒ½å¯ä»¥ä½¿ç”¨å·ç‹å¿«é€Ÿæ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„åœ¨çº¿é—®å·ç³»ç»Ÿã€‚

## ğŸš€ 1 åˆ†é’Ÿå¿«é€Ÿä½“éªŒè°ƒæŸ¥é—®å·ç³»ç»Ÿ(æ— éœ€å®‰è£…æ•°æ®åº“)

1. å®‰è£… [Java è¿è¡Œç¯å¢ƒ](https://www.java.com/zh-CN/download/manual.jsp)ï¼ˆå¦‚æœæœ¬æœºå·²æœ‰ Java ç¯å¢ƒå¯ä»¥å¿½ç•¥ï¼‰
2. ä¸‹è½½ [å·ç‹å®‰è£…åŒ…](https://gitee.com/surveyking/surveyking/attach_files/1002654/download/surveyking-v0.3.0-beta.10-h2.zip)
3. è§£å‹ï¼ŒåŒå‡»è¿è¡Œ surveyking-v0.3.0-beta.10.jar
4. æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:1991](http://localhost:1991)ï¼Œè¾“å…¥è´¦å·å¯†ç ï¼š *admin*/*123456*

## ç‰¹æ€§

- ğŸ¥‡ æ”¯æŒå¤šç§é¢˜å‹ï¼Œå¦‚å¡«ç©ºã€é€‰æ‹©ã€ä¸‹æ‹‰ã€çº§è”ã€çŸ©é˜µã€åˆ†é¡µã€ç­¾åã€é¢˜ç»„ç­‰
- ğŸ‰ å¯è®¡ç®—ï¼Œåˆ†ä¸º**é€»è¾‘è®¡ç®—**ã€**å€¼è®¡ç®—**ã€**æ–‡æœ¬æ›¿æ¢è®¡ç®—**ã€**å¿…å¡«è®¡ç®—**ï¼Œ[ç‚¹å‡»ä½“éªŒ](https://s.surveyking.cn/s/logic8)
- ğŸ¦‹ é—®é¢˜ã€é€‰é¡¹æ”¯æŒå¿«é€Ÿå¯Œæ–‡æœ¬ç¼–è¾‘
- ğŸ¥Š å“åº”å¼å¸ƒå±€ï¼Œæ‰€æœ‰é¡µé¢åœ¨ PC å’Œæ‰‹æœºç«¯éƒ½æœ‰è‰¯å¥½çš„æ“ä½œä½“éªŒ
- ğŸ¥‚ å¤šç§é—®å·è®¾ç½®ï¼Œå¦‚æ”¯æŒ**é—®å·é»˜è®¤å€¼**ã€**æš‚å­˜**ã€**é—®å·ä¿®æ”¹**ã€**è®¾ç½®å¯†ç **ã€èƒŒæ™¯å›¾ã€é¡µçœ‰å›¾ã€**æäº¤åå›¾æ–‡å±•ç¤º**ç­‰
- ğŸ‡ æ•°æ®ï¼Œæ”¯æŒé—®å·æ•°æ®æ–°å¢ã€ç¼–è¾‘ã€æ ‡è®°ã€å¯¼å‡ºã€é¢„è§ˆå’Œæ‰“åŒ…ä¸‹è½½é™„ä»¶
- ğŸ¨ æŠ¥è¡¨ï¼Œæ”¯æŒå¯¹é—®é¢˜å®æ—¶ç»Ÿè®¡åˆ†æå¹¶ä»¥å›¾å½¢ï¼ˆæ¡å½¢å›¾ã€æŸ±å½¢å›¾ã€æ‰‡å½¢å›¾ï¼‰ã€è¡¨æ ¼çš„å½¢å¼å±•ç¤ºè¾“å‡º
- ğŸš€ å®‰è£…éƒ¨ç½²ç®€å•ï¼ˆ**æœ€å¿« 1 åˆ†é’Ÿéƒ¨ç½²**ï¼‰ï¼Œæ”¯æŒ nginx éƒ¨ç½²å’Œä¸€é”®å¯åŠ¨çš„æ–¹å¼
- ğŸ‘¬ æ”¯æŒå¤šäººåä½œç®¡ç†é—®å·
- ğŸ åç«¯æ”¯æŒå¤šç§æ•°æ®åº“ï¼Œå¯æ”¯æŒæ‰€æœ‰å¸¦æœ‰ jdbc é©±åŠ¨çš„å…³ç³»å‹æ•°æ®åº“ï¼Œæœªæ¥è®¡åˆ’æ”¯æŒ elasticsearch
- ğŸ¯ å®‰å…¨ã€å¯é ã€ç¨³å®šã€é«˜æ€§èƒ½çš„åç«¯ API æœåŠ¡
- ğŸ™† æ”¯æŒå®Œå–„çš„ RBAC æƒé™æ§åˆ¶
- ğŸ˜Š æ”¯æŒ**å·¥ä½œæµ**ï¼Œå·¥ä½œæµä»£ç å·²å…¨éƒ¨å¼€æº
- ...

## å®‰è£…

### é€šè¿‡å‘è¡Œç‰ˆå®‰è£…

ç›®å‰å·²é€‚é… mysql æ•°æ®åº“

<!-- ç‚¹å‡»[ä¸‹è½½ surveyking-h2 ç‰ˆæœ¬](https://gitee.com/surveyking/surveyking/attach_files/948414/download/surveyking-h2-v0.2.1.jar)åˆ°æœ¬åœ° -->

ç‚¹å‡»[ä¸‹è½½ surveyking-mysql ç‰ˆæœ¬](https://gitee.com/surveyking/surveyking/attach_files/1002651/download/surveyking-v0.3.0-beta.10.jar)åˆ°æœ¬åœ°

### ä½¿ç”¨æºç ç¼–è¯‘å®‰è£…

é»˜è®¤æ„å»ºçš„æ˜¯ h2 ç‰ˆæœ¬çš„å®‰è£…åŒ…ã€‚

ä½¿ç”¨ gradle æ„å»ºï¼š

```bash
# ä¸‹è½½æºç 
git clone https://gitee.com/surveyking/surveyking.git

# è®¾ç½® profileï¼Œä¿®æ”¹ api/src/main/resources/application.yml
# æ‰“å¼€ active: ${activeProfile} # gradle é…ç½®

# å¼€å§‹æ„å»º
gradle clean :api:build -P pro -x test
# ç”Ÿæˆçš„ jar åŒ…ä½äº ./api/build/libs/surveyking-v0.x.x.jar
```

ä½¿ç”¨ maven æ„å»ºï¼š

```bash
# ä¸‹è½½æºç 
git clone https://gitee.com/surveyking/surveyking.git

# å¼€å§‹æ„å»º
mvn clean package -DskipTests -Ppro
# ç”Ÿæˆçš„ jar åŒ…ä½äº ./api/target/surveyking-v0.x.x.jar
```

### ä½¿ç”¨ docker å¿«é€Ÿå¯åŠ¨

å¯åŠ¨ SurveyKing é•œåƒæ—¶ï¼Œä½ å¯ä»¥æŒ‡å®š SurveyKing æŒ‚è½½å‚æ•°ï¼Œå°†æ—¥å¿—æ–‡ä»¶å’Œå†…ç½®æ•°æ®åº“ä¿å­˜åˆ°ä½ æœ¬åœ°ã€‚(docker ç‰ˆæœ¬ç›®å‰è¿˜æœ‰ç‚¹é—®é¢˜ï¼Œå¾…è§£å†³ï¼‰

```bash
docker run -p 1991:1991 registry.cn-hangzhou.aliyuncs.com/surveyking/surveyking
# æŒ‚è½½æ•°æ®æ–‡ä»¶
docker run -p 1991:1991 -v /surveyking:/surveyking registry.cn-hangzhou.aliyuncs.com/surveyking/surveyking
```

## ä½¿ç”¨

- **é¢„å®‰è£… JRE ç¯å¢ƒ**ï¼Œç”±äºæœ¬ç³»ç»Ÿæ˜¯ Java æ„å»ºçš„ï¼Œéœ€è¦ä¾èµ– Java è¿è¡Œç¯å¢ƒï¼Œå¯ä»¥é€šè¿‡ [é€‚ç”¨äºæ‰€æœ‰æ“ä½œç³»ç»Ÿçš„ Java ä¸‹è½½
  ](https://www.java.com/zh-CN/download/manual.jsp) æ¥é¢„è£… java ç¯å¢ƒã€‚
- **é…ç½®æ•°æ®åº“**ï¼ŒæŒ‰ç…§ä¸‹é¢çš„è¯´æ˜æ¥é…ç½®ä¸åŒçš„æ•°æ®åº“ï¼Œå¦‚æœå‰ç«¯éœ€è¦ä½¿ç”¨ nginx éƒ¨ç½²ï¼Œå‚è€ƒä½¿ç”¨ nginx éƒ¨ç½²å‰ç«¯ã€‚
- **è¿è¡Œ**ï¼Œæ”¯æŒæ‰€æœ‰å¹³å°éƒ¨ç½²ï¼Œwindows å’Œ mac æ”¯æŒåŒå‡»è¿è¡Œï¼Œæˆ–è€…æ‰“å¼€å‘½ä»¤è¡Œçª—å£æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤

```bash
java -jar surveyking-v0.x.x.jar
```

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® [http://localhost:1991](http://localhost:1991) å³å¯ï¼Œç³»ç»Ÿé¦–æ¬¡å¯åŠ¨ä¹‹åä¼šè‡ªåŠ¨åˆ›å»º admin ç”¨æˆ·ï¼Œè´¦å·/å¯†ç ï¼ˆ*admin/123456*ï¼‰ï¼Œç™»å½•ç³»ç»Ÿä¹‹åå¯ä»¥é€šè¿‡ç”¨æˆ·ç®¡ç†ç•Œé¢æ¥ä¿®æ”¹å¯†ç ã€‚

<!-- ### h2 å¯åŠ¨æ–¹å¼

æ— éœ€ä»»ä½•é…ç½®ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å¯åŠ¨è„šæœ¬ï¼Œå¦‚éœ€æ”¹å˜ç«¯å£å·ï¼Œå‚è€ƒ mysql å¯åŠ¨æ–¹å¼çš„å®šä¹‰ç«¯å£ã€‚ -->

### mysql å¯åŠ¨æ–¹å¼

ä½¿ç”¨å‚æ•°å¯åŠ¨

1. é¦–å…ˆåˆ›å»º mysql æ•°æ®åº“ï¼Œç„¶åæ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ï¼Œ[ä¸‹è½½è„šæœ¬](https://gitee.com/surveyking/surveyking/raw/master/server/rdbms/src/main/resources/scripts/init-mysql.sql)ã€‚
2. æ‰§è¡Œ `java -jar surveyking-v0.x.x.jar --server.port=1991 --spring.datasource.url=jdbc:mysql://localhost:3306/surveyking --spring.datasource.username=root --spring.datasource.password=123456`ï¼ˆåªæœ‰é¦–æ¬¡å¯åŠ¨ç³»ç»Ÿéœ€è¦æ·»åŠ åé¢çš„å‚æ•°ï¼‰

å‚æ•°è¯´æ˜(æŒ‰ç…§å®é™…éœ€è¦è‡ªè¡Œä¿®æ”¹)ï¼š

- `--server.port=1991` ç³»ç»Ÿç«¯å£
- `--spring.datasource.url=jdbc:mysql://localhost:3306/surveyking` æ•°æ®åº“è¿æ¥çš„ url
- `--spring.datasource.username=root` æ•°æ®åº“è´¦å·
- `--spring.datasource.password=123456` æ•°æ®åº“å¯†ç 

ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼åˆå§‹åŒ–æ•°æ®åº“ï¼ˆä¼šè‡ªåŠ¨æ‰§è¡Œæ•°æ®åº“åˆå§‹è„šæœ¬ï¼‰

```bash
# æŒ‰ç…§æç¤ºåˆå§‹åŒ–æ•°æ®åº“
java -jar surveyking-v0.x.x.jar i
# åˆå§‹åŒ–å®Œæˆä¹‹åè¿è¡Œå³å¯
java -jar surveyking-v0.x.x.jar 
```

### ä½¿ç”¨ nginx éƒ¨ç½²å‰ç«¯

ä¸‹è½½ [è¯¥ç›®å½•ä¸‹é¢çš„é™æ€èµ„æºæ–‡ä»¶](https://gitee.com/surveyking/surveyking/tree/master/server/api/src/main/resources/static)ï¼Œç›´æ¥éƒ¨ç½²åˆ° nginx å³å¯ã€‚

ç„¶åé…ç½® proxy ä»£ç†åˆ°åç«¯ api æœåŠ¡ã€‚

## åœ¨çº¿ä½“éªŒ

æ¼”ç¤ºåœ°å€ï¼š [https://surveyking.cn](https://surveyking.cn)

ç‚¹å‡» *è¯•ä¸€è¯•*ï¼Œæ— éœ€æ³¨å†Œç™»å½•

## è”ç³»ä½œè€…

æœ¬é¡¹ç›®åç«¯ä»£ç å®Œå…¨å¼€æºï¼Œå‰ç«¯ä»£ç å¾…ç¨³å®šä¹‹åä¹Ÿä¼šæœ‰å¼€æºè®¡åˆ’ã€‚å¦‚æœè§‰å¾—å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œå¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„ starã€‚

å¦‚æœé‡åˆ°ä»»ä½•é—®é¢˜æˆ–è€…å»ºè®®ï¼Œæ¬¢è¿åŠ ç¾¤è®¨è®ºã€‚

<div>
 QQç¾¤ï¼š338461197
</div>

## å¼€æºåè®®

SurveyKing is open source software licensed as
[MIT.](https://github.com/javahuang/SurveyKing/blob/master/LICENSE)
